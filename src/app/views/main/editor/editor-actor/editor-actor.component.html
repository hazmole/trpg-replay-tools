<app-tab-layer titleText="角色設定" text="請點選左側的登場角色進行個別設定。">

    <div class="flexContainer">
        <div class="leftCol">

            <!-- Actor List -->
            <div *ngFor="let actor of actorList" class="actorBtn clickable" 
                [ngClass]="{'active': currentActorId==actor.id}"
                (click)="SelectActor(actor)">
                <div class="hidden">{{ actor.id }}</div>
                <div class="name">{{ actor.name }}</div>
            </div>

            <!-- Add Button -->
            <div class="plusBtn clickable" (click)="AddActor()">
                <div class="icon" style="background-image: url('assets/images/plus.png');"></div>
                新增登場角色
            </div>

        </div>
        <div class="rightCol">

            <!-- Actor Setting Panel -->
            <form [formGroup]="formGroup">
                <div *ngIf="isSelected()" >
                    <app-input-title titleText="名稱"></app-input-title>
                    <div><input type="text" formControlName="actorName"></div>

                    <app-input-title titleText="代表色"></app-input-title>
                    <div class="colorPicker">
                        <input type="text"  formControlName="colorText" class="colorPicker-text" placeholder="#RRGGBB" (change)="ChangeColorText()">
                        <input type="color" formControlName="colorPick" class="colorPicker-button" (change)="ChangeColorPick()">
                    </div>

                    <app-input-title titleText="角色頭像預覽"></app-input-title>
                    <div class="actorImg">
                        <div *ngIf="getImgUrl()==''">未設定頭像</div>
                        <div *ngIf="errImgFlag">圖片無法顯示！</div>
                        <img *ngIf="getImgUrl()!='' && !errImgFlag" [src]="getImgUrl()" (error)="OnImageError()">
                    </div>

                    <app-input-title titleText="頭像連結"></app-input-title>
                    <div><input class="img-url-input" type="text" formControlName="imgUrl" (change)="ChangeImageUrl()"></div>

                    <div class="paragraph btn-list">
                        <app-button-apply text="儲存" (click)="SaveActor()"></app-button-apply>
                        <app-button-apply text="刪除" (click)="RemoveActor()" type="critical"></app-button-apply>
                    </div>

                    <hr>
                    <div><b>角色UID：</b>{{ outputList.actorID }}</div>
                    <div><b>發言次數：</b>{{ outputList.scriptOwnCount }}</div>

                </div>
            </form>

            
        </div>
    </div>



</app-tab-layer>